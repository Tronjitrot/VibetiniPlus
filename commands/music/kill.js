const { EmbedBuilder } = require('discord.js')

s0  = "https://youtu.be/6yisws5rKoo" //yoda
s1  = "https://youtu.be/4DxBkW3r8pA" //changedaworld
s2  = "https://www.youtube.com/watch?v=W5g33W0Zafs" //64 bits
s3  = "https://youtu.be/xo6mn_0-_gY" //wario
s4  = "https://youtu.be/4htVcaTo1z4" //chunky
s5  = "https://youtu.be/r18jYoPGtvU" //macaroni
s6  = "https://youtu.be/JS2vGvm_OVA" //ducks
s7  = "https://youtu.be/K0kvlULMBQ8" //supermmmmmmmm
s8  = "https://youtu.be/maAIWplFWUw" //ligma
s9  = "https://www.youtube.com/watch?v=2v5bvntxGr0" //pancakes
s10 = "https://youtu.be/tC0rsn9zCSw" //sad.mp4
s11 = "https://www.youtube.com/watch?v=J76NGNTgouM" //hishadow
s12 = "https://www.youtube.com/watch?v=WCpl0ZM5cB0" //plankton
s13 = "https://youtu.be/6rTkEtYYU2Y" //beepblock
s14 = "https://youtu.be/qf3dKNDnnUc" //avocado
s15 = "https://youtu.be/OBiJuRPeUGg" //behind
s16 = "https://youtu.be/3adi8Hs39hk" //ballz
s17 = "https://www.youtube.com/watch?v=5pBCuMmQBvc" //vaccine
s18 = "https://www.youtube.com/watch?v=UbEsfvfZYnM" //cumbo
s19 = "https://www.youtube.com/watch?v=12ZZOEl8e74" //conga
s20 = "https://www.youtube.com/watch?v=6q-395MCnLM" //cackerbarrel
s21 = "https://youtu.be/4dJO0n1Wqjg" //caulk
s22 = "https://youtu.be/ZT6mbyKHN4w" //notatruck
s23 = "https://youtu.be/ENZx-D5d7q4" //isatruck
s24 = "https://www.youtube.com/watch?v=N06fZxoUQx0" //peerreview
s25 = "https://www.youtube.com/watch?v=pZvVvRvih9g" //fnafjumpscare
s26 = "https://www.youtube.com/watch?v=DnQ5wv3L5Wc" //tampaflorida
s27 = "https://www.youtube.com/watch?v=LiYqTcaq_Zo" //spelling
s28 = "https://youtu.be/AgVb0sTHUkM" //stabwounds
s29 = "https://www.youtube.com/watch?v=4tGR4Eu3YXo" //mindcraft
s30 = "https://www.youtube.com/watch?v=qFhsQB9PJkI" //pee
s31 = "https://www.youtube.com/watch?v=p1i06QhmraU" //cyberpoke
s32 = "https://www.youtube.com/watch?v=Ajs4nISRf5w" //shrekadvice
s33 = "https://youtu.be/H47ow4_Cmk0" //hahahahahahahahahahahahahhahahahahahhahahahaha
s34 = "https://youtu.be/_BOjrR-bAd8" //pointofthematress
s35 = "https://www.youtube.com/watch?v=kXTF7qzE5lQ" //micheal-
s36 = "https://www.youtube.com/watch?v=slyETgNPnAc" //youtakethemoon
s37 = "https://youtu.be/eaAFk9jGFus" //heymario
s38 = "https://www.youtube.com/watch?v=0CzMu5VugeI" //yomama
s39 = "https://www.youtube.com/shorts/oMl6zkMFqXo" //badword :(
s40 = "https://youtu.be/VymwOHe02FQ" //supershit
s41 = "https://www.youtube.com/watch?v=fhQHk_awKhM" //HOWWASTHEFALL
s42 = "https://www.youtube.com/watch?v=rXk3mH_aTMw" //ACAB
s43 = "https://youtu.be/ZJrUmWAslRY" //hoy
s44 = "https://www.youtube.com/watch?v=xvO8-Ieq9ZQ" //violence
s45 = "https://youtu.be/mRae5C3wfzs" //bluntensmoken
s46 = "https://www.youtube.com/watch?v=vxMQ6SMGzr4" //pomygon
s47 = "https://youtu.be/BvfVV8ffLmY" //themouse
s48 = "https://www.youtube.com/watch?v=mPmQ1yxR_ug" //factius
s49 = "https://youtu.be/ZR0X7WWleiM" //pebbr
s50 = "https://www.youtube.com/shorts/r-FUpZnKSWs" //cucber
s51 = "https://youtu.be/agdYdxQz9f4" //????
s52 = "https://www.youtube.com/watch?v=Wnpa51YQGfg" //kidmes
s53 = "https://www.youtube.com/watch?v=_oB_mKO8XaU" //starwar
s54 = "https://www.youtube.com/watch?v=aw4HeTuEoxc" //cashbanooca
s55 = "https://www.youtube.com/watch?v=ZBkCOA8WSmc" //cheese
s56 = "https://youtu.be/9JJijrn4Z9U" //what
s57 = "https://youtu.be/rcnHwzyDx48" //noboobs
s58 = "https://www.youtube.com/watch?v=hvBzqttuLKY" //cock
s59 = "https://youtu.be/xeC8u5dbOlw" //onthenintendo3ds
s60 = "https://www.youtube.com/watch?v=SSyIz3uo2P8" //foryou
s61 = "https://www.youtube.com/watch?v=j-K-zqLNtcw" //STEEVEN
s62 = "https://youtu.be/APWRd0Ab2xw" //pikkle
s63 = "https://www.youtube.com/watch?v=qOS40GeaIV4" //whoops
s64 = "https://youtu.be/HAChq41MUHU" //goodjob
s65 = "https://www.youtube.com/watch?v=PsrgkDn62iU" //fell
s66 = "https://www.youtube.com/watch?v=g1Sq1Nr58hM" //SPACE
s67 = "https://youtu.be/C7I9wQ0TDuQ" //smaptmson
s68 = "https://www.youtube.com/watch?v=oICm3a6atio" //th
s69 = "https://youtu.be/Qv_Qz-z0_3c" //nices

k0 = "See you, space cowboy..."
k1 = "I am ded, not big soup rice"
k2 = "How dare"
k3 = "Here lies me: died of ligma"
k4 = "Watchmojo.com top 10 Last Words Before Death in Movies"
k5 = "No more vibes, now go touch grass"
k6 = "Et tu, Brute?"
k7 = "ass" //this causes the grass image to appear.
k8 = "It's no use! This'll end it! *dies of cringe*"
k9 = "SQUID GAMES❗❗"
k10 = "jimbo" //jimbo image
k11 = "vore" //god

const soundList = [s0, s1, s2, s3, s4, s5, s6, s7, s8, s9, s10, s11, s12, s13, s14, s15, s16, s17, s18, s19, s20, s21, s22, s23, s24, s25, s26, s27, s28, s29, s30, s31, s32, s33, s34, s35, s36, s37, s38, s39, s40, s41, s42, s43, s44, s45, s46, s47, s48, s49, s50, s51, s52, s53, s54, s55, s56, s57, s58, s59, s60, s61, s62, s63, s64, s65, s66, s67, s68, s69]
const killList = [k0, k1, k2, k3, k4, k5, k6, k7, k8, k9, k10, k11]

module.exports = {
    callback: (message, args, client) => {
        const input = args.join(" ")
        const vc = message.member.voice.channel
        if(!vc) return message.channel.send("*No VC?*")

        const queue = client.distube.getQueue(message)
        if(!queue) return message.channel.send('No Vibes to kill')

        client.distube.options.leaveOnStop = false
        client.distube.stop(message)

        var soundNumber = parseInt(args[0])
        if(isNaN(soundNumber) || soundNumber >= soundList.length || soundNumber < 0) {
            soundNumber = Math.floor(Math.random() * (soundList.length));
        }
        console.log(soundNumber)

        client.iskill = true

        client.distube.play(vc, soundList[soundNumber], {
            member: message.member,
            textChannel: message.channel,
            message
        })

        const deathMessageEvent = () => {
            var killNumber = Math.floor(Math.random() * killList.length)
            console.log("message " + killNumber)
            if (killList[killNumber] == "ass")
                {
                    const embed = new EmbedBuilder().setImage('https://cdn.discordapp.com/attachments/452432724607893504/917966914662322206/meme.png') 
                    message.channel.send({
                        embeds: [embed]
                    })
                }
                else if (killList[killNumber] == "jimbo")
                {
                    const embed = new EmbedBuilder().setImage('https://cdn.discordapp.com/attachments/447004266717118474/960208448786690108/unknown.png') 
                    message.channel.send({
                        embeds: [embed]
                    })
                }
                else if (killList[killNumber] == "vore")
                {
                    const embed = new EmbedBuilder().setImage('https://64.media.tumblr.com/2658fe8736e6f74838afce0f11abc88f/f1371c9393e6bd40-34/s540x810/a6de74a902695d5584eee0e6597ec35604d2bbe8.pnj')
                    message.channel.send({
                        embeds: [embed]
                    })
                }
                else
                {
                    message.channel.send(killList[killNumber])
                }
                client.distube.off('disconnect', deathMessageEvent)
        }
        if(client.distube.listenerCount('disconnect') == 0) {
            client.distube.on('disconnect', deathMessageEvent)
        }
    }
}